<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Tomato Manga Zone</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

/* ===== THEME ===== */
:root{
  --bg:#000;
  --text:#fff;
  --card:#111;
  --accent:#ff2a2a;
}
body.light{
  --bg:#fff;
  --text:#000;
  --card:#f2f2f2;
  --accent:#ff2a2a;
}

html,body{
  width:100%;
  min-height:100%;
  background:var(--bg);
  color:var(--text);
  font-family:Arial,sans-serif;
  transition:.35s;
}

/* ================= INTRO ================= */
#intro{
  position:fixed;
  inset:0;
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:3000;
  transition:.6s;
  overflow:hidden;
}
#intro.fade-out{opacity:0}
#intro h1{color:red;font-size:30px;z-index:2}
#intro p{opacity:.8;z-index:2}
#intro button{
  margin-top:25px;
  padding:12px 30px;
  border:none;
  border-radius:25px;
  background:red;
  color:white;
  cursor:pointer;
  z-index:2;
}

/* INTRO BG */
#introBg{
  position:absolute;
  inset:-40%;
  display:grid;
  grid-template-columns:repeat(auto-fill,160px);
  gap:18px;
  opacity:.8;
  filter:grayscale(35%);
  animation:introMove 90s linear infinite;
  z-index:1;
}
#introBg svg{width:160px;height:220px;border-radius:6px}
@keyframes introMove{
  from{transform:translate(0,0)}
  to{transform:translate(-600px,-500px)}
}

/* ================= HEADER ================= */
#mainHeader{
  position:sticky;
  top:0;
  z-index:2000;
  background:linear-gradient(180deg,#111,#000);
  box-shadow:0 6px 18px rgba(0,0,0,.7);
}
body.light #mainHeader{
  background:linear-gradient(180deg,#fff,#eee);
}

#headerInner{
  height:64px;
  display:flex;
  align-items:center;
  padding:0 14px;
}

#headerLeft{width:170px}
.searchWrap{
  display:flex;
  align-items:center;
  gap:6px;
  padding:6px 12px;
  background:var(--card);
  border-radius:20px;
}
.searchWrap input{
  width:100px;
  background:none;
  border:none;
  outline:none;
  color:var(--text);
  font-size:13px;
}

#headerCenter{
  flex:1;
  text-align:center;
  font-size:16px;
  font-weight:900;
  letter-spacing:1.2px;
  text-transform:uppercase;
  color:var(--accent);
}

#headerRight{
  width:120px;
  display:flex;
  justify-content:flex-end;
  gap:8px;
}
.iconBtn{
  width:40px;
  height:40px;
  border-radius:50%;
  background:var(--card);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  cursor:pointer;
  transition:.3s;
}
.iconBtn:hover{transform:scale(1.05)}

#headerLine{
  height:3px;
  background:linear-gradient(90deg,transparent,var(--accent),transparent);
}

/* ===== SHOWCASE SLIDER (14:7) ===== */
#showcase{
  width:100%;
  aspect-ratio:14/7;
  max-height:280px;
  overflow:hidden;
  position:relative;
  background:#000;
  display:none;
}
#showcaseTrack{
  display:flex;
  height:100%;
  transition:transform 1s ease;
}
.showcaseItem{
  min-width:100%;
  height:100%;
}
.showcaseItem img{
  width:100%;
  height:100%;
  object-fit:cover;
  animation:fade 5s infinite;
}
@keyframes fade{
  0%{opacity:0}
  10%{opacity:1}
  80%{opacity:1}
  100%{opacity:0}
}

/* ===== PRO MANGA AUTO BAR ===== */
#featuredBar{
  width:100%;
  padding:14px 12px;
  overflow-x:auto;
  overflow-y:hidden;
  border-bottom:1px solid #222;
  display:none;
}
#featuredBar::-webkit-scrollbar{height:6px}
#featuredBar::-webkit-scrollbar-thumb{
  background:var(--accent);
  border-radius:10px;
}
#featuredTrack{
  display:flex;
  gap:14px;
}
.featuredItem{
  min-width:130px;
  flex-shrink:0;
  cursor:pointer;
  transition:.25s;
}
.featuredItem:hover{transform:scale(1.05)}
.featuredItem img{
  width:130px;
  height:185px;
  object-fit:cover;
  border-radius:8px;
}

/* ================= ADMIN ================= */
#adminSidebar{
  position:fixed;
  top:0;
  right:-320px;
  width:320px;
  height:100%;
  background:#111;
  padding:15px;
  transition:.4s;
  z-index:2500;
}
#adminSidebar.show{right:0}

#adminSidebar h3{color:red;margin:10px 0}
#adminSidebar label{font-size:13px;opacity:.85}
#adminSidebar input,
#adminSidebar button{
  width:100%;
  margin:6px 0 12px;
  padding:8px;
  background:#222;
  color:white;
  border:none;
}

#adminBack{
  position:absolute;
  bottom:10px;
  left:10px;
  font-size:12px;
  padding:6px 12px;
  background:#1a1a1a;
  border-radius:5px;
  cursor:pointer;
}

/* ===== ADMIN HISTORY ===== */
#historyList{
  max-height:260px;
  overflow-y:auto;
}
.historyItem{
  display:flex;
  align-items:center;
  gap:10px;
  padding:6px;
  margin-bottom:6px;
  background:#1a1a1a;
  border-radius:6px;
}
.historyItem img{
  width:45px;
  height:65px;
  object-fit:cover;
  border-radius:4px;
}
.historyInfo{
  flex:1;
  font-size:12px;
}
.deleteBtn{
  font-size:18px;
  cursor:pointer;
  color:#ff4d4d;
}
.deleteBtn:hover{transform:scale(1.15)}

/* STATUS */
#uploadStatus{
  position:fixed;
  bottom:20px;
  right:20px;
  padding:7px 14px;
  font-size:13px;
  border-radius:6px;
  background:#111;
  opacity:0;
  transition:.3s;
  z-index:4000;
}
#uploadStatus.show{opacity:1}
#uploadStatus.success{border:1px solid #0f0;color:#0f0}
#uploadStatus.fail{border:1px solid #f00;color:#f00}

/* MANGA LIST */
#mangaList{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:15px;
  padding:20px;
}
.manga img{width:100%;border-radius:6px}
.manga p{text-align:center;font-size:13px;margin-top:6px}

/* DETAIL */
#detailPage{display:none;padding:15px}
.backBtn{background:#333;color:white;border:none;padding:8px}
</style>
</head>

<body>

<div id="intro">
  <div id="introBg"></div>
  <h1>Tomato Manga Zone</h1>
  <p>Manga Online Read</p>
  <button onclick="enterSite()">ENTER</button>
</div>

<div id="mainHeader" style="display:none">
  <div id="headerInner">
    <div id="headerLeft">
      <div class="searchWrap">üîç <input placeholder="Search..."></div>
    </div>
    <div id="headerCenter">Tomato Manga Zone</div>
    <div id="headerRight">
      <div class="iconBtn" id="themeBtn">üåô</div>
      <div class="iconBtn" onclick="toggleAdmin()">‚ò∞</div>
    </div>
  </div>
  <div id="headerLine"></div>
</div>

<div id="showcase"><div id="showcaseTrack"></div></div>
<div id="featuredBar"><div id="featuredTrack"></div></div>

<div id="adminSidebar">
  <div id="loginBox">
    <label>Admin Password</label>
    <input type="password" id="adminPass">
    <button onclick="checkPass()">Login</button>
  </div>

  <div id="adminForm" style="display:none">
    <h3>Manga Setting</h3>
    <label>Manga Title</label>
    <input id="mangaTitle">
    <label>Manga Image</label>
    <input type="file" id="mangaImg" accept="image/*">
    <label>Chapter Title</label>
    <input id="chapterTitle">
    <button onclick="uploadManga()">Upload</button>

    <h3>History</h3>
    <div id="historyList"></div>
  </div>

  <div id="adminBack" onclick="toggleAdmin()">‚Üê Back</div>
</div>

<div id="mangaList"></div>

<div id="detailPage">
  <button class="backBtn" onclick="closeDetail()">‚Üê Back</button>
  <h2 id="detailName"></h2>
  <div id="chapterList"></div>
</div>

<div id="uploadStatus"></div>

<script>
for(let i=0;i<42;i++){
  introBg.innerHTML+=`
  <svg viewBox="0 0 160 220">
    <rect width="160" height="220" fill="#222"/>
    <rect x="10" y="10" width="140" height="60" fill="#000"/>
    <rect x="10" y="80" width="60" height="50" fill="#000"/>
    <rect x="80" y="80" width="70" height="120" fill="#000"/>
  </svg>`;
}

const ADMIN_PASSWORD="Tomatochitsanmg03";
const mangas=[];
let showcaseIndex=0;

function enterSite(){
  intro.classList.add("fade-out");
  setTimeout(()=>{
    intro.style.display="none";
    mainHeader.style.display="block";
  },600);
}

themeBtn.onclick=()=>{
  document.body.classList.toggle("light");
  themeBtn.innerText=document.body.classList.contains("light")?"üåû":"üåô";
}

function toggleAdmin(){adminSidebar.classList.toggle("show")}

function checkPass(){
  if(adminPass.value===ADMIN_PASSWORD){
    loginBox.style.display="none";
    adminForm.style.display="block";
    showStatus("Login Successful","success");
  }else showStatus("Wrong Password","fail");
}

function showStatus(t,type){
  uploadStatus.innerText=t;
  uploadStatus.className=type+" show";
  setTimeout(()=>uploadStatus.className="",2000);
}

function uploadManga(){
  if(!mangaTitle.value || !mangaImg.files[0]){
    showStatus("Title & Image required","fail");return;
  }
  mangas.push({
    id:Date.now(),
    name:mangaTitle.value,
    img:URL.createObjectURL(mangaImg.files[0]),
    chapterTitle:chapterTitle.value||"-"
  });
  renderPublic();renderFeatured();renderShowcase();renderHistory();
  showStatus("Upload Successful","success");
}

function renderPublic(){
  mangaList.innerHTML="";
  mangas.forEach(m=>{
    mangaList.innerHTML+=`
      <div class="manga" onclick="openManga(${m.id})">
        <img src="${m.img}">
        <p>${m.name}</p>
      </div>`;
  });
}

function renderFeatured(){
  featuredTrack.innerHTML="";
  featuredBar.style.display="block";
  mangas.forEach(m=>{
    featuredTrack.innerHTML+=`
      <div class="featuredItem" onclick="openManga(${m.id})">
        <img src="${m.img}">
      </div>`;
  });
}

function renderShowcase(){
  showcaseTrack.innerHTML="";
  showcase.style.display="block";
  mangas.forEach(m=>{
    showcaseTrack.innerHTML+=`
      <div class="showcaseItem"><img src="${m.img}"></div>`;
  });
}

function renderHistory(){
  historyList.innerHTML="";
  mangas.forEach(m=>{
    historyList.innerHTML+=`
      <div class="historyItem">
        <img src="${m.img}">
        <div class="historyInfo"><b>${m.name}</b><br>${m.chapterTitle}</div>
        <div class="deleteBtn" onclick="deleteManga(${m.id})">üóëÔ∏è</div>
      </div>`;
  });
}

function deleteManga(id){
  const i=mangas.findIndex(m=>m.id===id);
  if(i>-1) mangas.splice(i,1);
  renderPublic();renderFeatured();renderShowcase();renderHistory();
  showStatus("Manga Deleted","success");
}

setInterval(()=>{
  if(mangas.length<=1) return;
  showcaseIndex=(showcaseIndex+1)%mangas.length;
  showcaseTrack.style.transform=`translateX(-${showcaseIndex*100}%)`;
},5000);

function openManga(id){
  const m=mangas.find(x=>x.id===id);
  mangaList.style.display="none";
  detailPage.style.display="block";
  detailName.innerText=m.name;
  chapterList.innerText="Chapter: "+m.chapterTitle;
}
function closeDetail(){
  detailPage.style.display="none";
  mangaList.style.display="grid";
}
</script>

</body>
</html>
